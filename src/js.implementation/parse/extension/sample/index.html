<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Title of the document</title>
    <script src="../../../node_modules/asciidoctor.js/dist/asciidoctor.js"></script>
    <script>
        function convert() {
            var asciidoctor = Asciidoctor();

            asciidoctor.Extensions.register(function () {
               this.block(function () {
                   const self = this;
                   self.named('shout');
                   self.onContext('paragraph');
                   self.process(function (parent, reader) {
                       const lines = reader.getLines().map(function (l) { return l.toUpperCase(); });
                       return self.createBlock(parent, 'paragraph', lines);
                   });
               });
            });

            const text = "[shout]" + "\nSay it loud." + "\nSay it proud.";

            const html = asciidoctor.convert(text);
            console.log(html);
        }
    </script>
</head>
<body onload="convert();">
</body>
</html>